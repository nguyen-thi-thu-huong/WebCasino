@model WebCasino.Web.Areas.Administration.Models.UsersIndexViewModel
@{
	var previousDisabled = Model.Page == 1 ? "disabled" : string.Empty;
	var nextDisabled = Model.Page == Model.TotalPages ? "disabled" : string.Empty;
}
<link href="~/assets/css/" rel="stylesheet" />
<h2>Casino Users</h2>

<form class="form" asp-area="Administration" asp-action="Index" asp-controller="UserAdministration" method="GET">
	<div class="row">

		<div class="col-sm-6 col-lg-3">
			<div class="form-group">
				<input asp-for="@Model.SearchText" type="text" class="form-control " placeholder="Search user" id="txtSearch" />
			</div>
		</div>
		<div class="col-sm-2 col-lg-2">
			<div class="form-group">
				<input type="submit" class=" form-control btn btn-primary" value="Search" />
			</div>
		</div>
	</div>
</form>

<br />
<div class="card ">
	<div class="card-header">
		<h4 class="card-title"> Users Table</h4>
	</div>
	<div class="card-body">
		<div class="table">
			<table class="table tablesorter table-hover " id="">
				<thead class=" text-primary">
					<tr>
						<th>Email</th>
						<th>Alias</th>
						<th>Phone Number</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					@if (Model.Users.Count() == 0)
					{
						<tr>
							<td colspan="4">No data available in table</td>
						</tr>
					}
					else
					{
						@foreach (var user in Model.Users)
						{
							<tr>
								<td>@user.Email</td>
								<td>@user.Alias</td>
								<td>@user.PhoneNumber</td>
								<td> <a asp-action="Details" asp-controller="UserAdministration" asp-area="Administration" asp-route-id="@user.Id">Details</a> </td>
							</tr>
						}
					}
				</tbody>
			</table>
		</div>
	</div>
</div>
<nav aria-label="Page navigation example" align="center">
	<ul class="pagination">
		<li class="page-item">
			<a class="page-link @previousDisabled" asp-area="Administration" asp-controller="UserAdministration" asp-action="Index" asp-route-id="Users?searchtext=@Model.SearchText&page=@Model.PreviousPage" aria-label="Previous">
				<span aria-hidden="true">&laquo;</span>
				<span class="sr-only">Previous</span>
			</a>
		</li>
		@for (int i = 1; i <= Model.TotalPages; i++)
		{
			<li class="page-item"><a class="page-link" asp-area="Administration" asp-controller="UserAdministration" asp-action="Index" asp-route-id="Users?searchtext=@Model.SearchText&page=@i">@i</a></li>
		}
		<li class="page-item">
			<a class="page-link @nextDisabled" asp-area="Administration" asp-controller="UserAdministration" asp-action="Index" asp-route-id="Users?searchtext=@Model.SearchText&page=@Model.NextPage" aria-label="Next">
				<span aria-hidden="true">&raquo;</span>
				<span class="sr-only">Next</span>
			</a>
		</li>
	</ul>
</nav>